$(document).ready(function(){$(".met_audio_volume .noUiSlider").noUiSlider({range:[0,100],start:100,handles:1,orientation:"horizontal",slide:function(){var e=$(this).val(),t=$(this).parents(".met_audio_player").prev("audio")[0],i=$(this).parents(".met_audio_sound").children(".met_audio_sound_volume"),o=$(this).parents(".met_audio_sound").children("i");0==e?o.attr("class","icon-volume-off"):50>e?o.attr("class","icon-volume-down"):o.attr("class","icon-volume-up"),o.attr("data-volume",e),i.html(e),t.volume=0==e?0:e/100,o.fadeOut(function(){i.fadeIn(function(){i.fadeOut(),o.fadeIn()})})}}),$("audio").each(function(){var e=$(this),t=e.next(".met_audio_player"),i=t.children("button.met_audio_play_pause"),o=t.children(".met_audio_sound").children("i"),a=t.children(".met_audio_progress_bar").children(".met_audio_current_progress"),n=0,r=t.children(".met_audio_current_time").children(".met_audio_current_time_minutes"),d=t.children(".met_audio_current_time").children(".met_audio_current_time_seconds"),l="",u="";e[0].controls=!1,e[0].addEventListener("loadedmetadata",function(){var i=Math.floor(e[0].duration/60),o=Math.floor(e[0].duration%60);i=10>i?"0"+i:i,o=10>o?"0"+o:o,t.children(".met_audio_total_time").html(i+":"+o)}),i.bind("click",function(){e[0].paused||e[0].ended?(e[0].play(),i.removeClass("met_play").children("i").removeClass("icon-play").addClass("icon-pause")):(e[0].pause(),i.removeClass("met_play").children("i").removeClass("icon-pause").addClass("icon-play"))}),o.bind("click",function(){var t=$(this).attr("class"),i=$(this).data("volume");"icon-volume-up"==t||"icon-volume-down"==t?($(this).removeClass(t).addClass("icon-volume-off"),e[0].volume=0):(e[0].volume=0==o.attr("data-volume")?0:o.attr("data-volume")/100,$(this).removeClass(t).addClass(i>0&&50>i?"icon-volume-down":"icon-volume-up"))}),t.children(".met_audio_progress_bar").bind("click",function(t){var i=t.pageX-$(this).offset().left,o=$(this).width(),a=Math.floor(i/o*100);$(this).children().css("width",a+"%"),e[0].currentTime=Math.floor(a*e[0].duration/100)}),e[0].addEventListener("timeupdate",function(){e[0].currentTime>0&&(n=Math.floor(100/e[0].duration*e[0].currentTime),l=Math.floor(e[0].currentTime/60),u=Math.floor(e[0].currentTime%60),10>l&&(l="0"+l),10>u&&(u="0"+u),r!=l&&r.html(l),d!=u&&d.html(u)),a.css("width",n+"%")},!1)})});